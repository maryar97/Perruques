{% extends 'base.html.twig' %}

{% block title %}Facture{% endblock %}

{% block body %}

<div class='container'>
        <div class='row'>    
            <img src="/images/logo.png" class="logo col-4"> 
                <div class='col-6 my-auto'>
                    <div>Facture N° {{ factId }}</div>
                    <div>Commande N°  {{ comId }}  du  {{ createAt ? createAt|date('Y-m-d') : '' }}</div>
                    <div>Date : {{ dateFact ? dateFact|date('Y-m-d') : '' }}</div>
                    
                </div>
            {# Client : n°{{ utiId }}, {{ adresse }} , {{ tel }}, {{ email }} #}
            <div> Client : n°{{ adrLivr.Id }}, {{ adrLivr.AdrNom}} {{ adrLivr.AdrPrenom}}  </div>
        <div> Adresse de livraison : {{ adrLivr.Adresse }}, {{ adrLivr.AdrCodePostal }}, {{adrLivr.AdrVille}}, {{ adrLivr.AdrPays}} </div>
            <div> {{ adrLivr.AdrTelephone }}, {{ adrLivr.AdrEmail }}  </div>
            </div>
            {# Adresse de facturation : {{ adrFact.AdrNom }} {{ adrFact.AdrPrenom }} , {{ adrFact.AdrRue }} , {{ adrFact.AdrCodePostal }} {{ adrFact.AdrVille }} {{ adrFact.AdrPays }} #}
        </div>
        <div class='mt-5'> Description de la commande </div>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>REF.</th>
                        <th>DESIGNATION</th>
                        <th>P U</th>
                        <th>Quantité</th>
                        <th>Total HT</th>
                        <th>TVA</th>
                        <th>Total TTC</th>
                        <th>Adresse</th>
                        <th>Adresse de facturation</th>
                        <th>Numero client</th>
                        <th>Email</th>
                        <th>Telephone</th>
                        <th>Date commande</th> 
                
                    </tr>
                </thead>

                <tbody>
        {% for commande in commandes %}
            <tr>
                <td>{{ commande.id }}</td>
                <td>{{ commande.transporteurNom }}</td>
                <td>{{ commande.transporteurPrix }}</td>
                <td>{{ commande.livraison }}</td>
                <td>{{ commande.isPaid ? 'Yes' : 'No' }}</td>
                <td>{{ commande.methode }}</td> 
                <td>{{ commande.reference }}</td>
                <td>{{ commande.stripeSessionId }}</td>
                <td>{{ commande.paypalCommandeId }}</td> 
                <td>{{ commande.CreateAt ? commande.CreateAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ commande.adrFact }}</td>
                <td>{{ commande.CreateAt ? commande.CreateAt|date('Y-m-d H:i:s T') : '' }}</td> 
                
            </tr> 
        {% else %}
            <tr>
                <td colspan="14">Aucun enregistrement trouvé</td>
            </tr>
        {% endfor %}
        
        </tbody> 
    </table> 

{% endblock %} 